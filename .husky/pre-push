

echo "ğŸ” Running E2E tests before push..."
echo ""

# Check if services are running using Node.js script (cross-platform)
node e2e/check-services.js

if [ $? -ne 0 ]; then
  exit 1
fi

echo ""
echo "ğŸ§ª Running E2E tests..."
echo ""

npm run test:e2e || {
  echo ""
  echo "âŒ E2E tests failed. Check the output above for details."
  echo "ğŸ“Š HTML report available at: test-results/playwright-report/index.html"
  exit 1
}

echo ""
echo "âœ… E2E tests passed!"
